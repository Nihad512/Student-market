{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Asus/Desktop/house-marketing-main/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Asus/Desktop/house-marketing-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/Asus/Desktop/house-marketing-main/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\house-marketing-main\\\\src\\\\pages\\\\Listing.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport { MapContainer, Marker, Popup, TileLayer } from 'react-leaflet';\nimport SwiperCore, { Navigation, Pagination, Scrollbar, A11y } from 'swiper';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/swiper-bundle.css';\nimport { getDoc, doc } from 'firebase/firestore';\nimport { getAuth } from 'firebase/auth';\nimport { db } from '../firebase.config';\nimport Spinner from '../components/Spinner';\nimport shareIcon from \"../assets/svg/shareIcon.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y]);\n\nfunction Listing() {\n  _s();\n\n  var _this = this,\n      _auth$currentUser;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      listing = _useState2[0],\n      setListing = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      shareLinkCopied = _useState6[0],\n      setShareLinkCopied = _useState6[1];\n\n  var navigate = useNavigate();\n  var params = useParams();\n  var auth = getAuth();\n  useEffect(function () {\n    var fetchListing = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var docRef, docSnap;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                docRef = doc(db, 'listings', params.listingId);\n                _context.next = 3;\n                return getDoc(docRef);\n\n              case 3:\n                docSnap = _context.sent;\n\n                if (docSnap.exists()) {\n                  setListing(docSnap.data());\n                  setLoading(false);\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function fetchListing() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchListing();\n  }, [navigate, params.listingId]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: listing.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Swiper, {\n      slidesPerView: 1,\n      pagination: {\n        clickable: true\n      },\n      children: listing.imgUrls.map(function (url, index) {\n        return /*#__PURE__*/_jsxDEV(SwiperSlide, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: \"url(\".concat(listing.imgUrls[index], \") center no-repeat\"),\n              backgroundSize: 'cover'\n            },\n            className: \"swiperSlideDiv\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, _this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shareIconDiv\",\n      onClick: function onClick() {\n        navigator.clipboard.writeText(window.location.href);\n        setShareLinkCopied(true);\n        setTimeout(function () {\n          setShareLinkCopied(false);\n        }, 2000);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: shareIcon,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), shareLinkCopied && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"linkCopied\",\n      children: \"Link Copied!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 27\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"listingDetails\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"listingName\",\n        children: [listing.name, \" - $\", listing.offer ? listing.discountedPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',') : listing.regularPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"listingLocation\",\n        children: listing.location\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"listingType\",\n        children: [\"For \", listing.type === 'rent' ? 'Rent' : 'Sale']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), listing.offer && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"discountPrice\",\n        children: [\"$\", listing.regularPrice - listing.discountedPrice, \" discount\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"listingDetailsList\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: listing.bedrooms > 1 ? \"\".concat(listing.bedrooms, \" Bedrooms\") : '1 Bedroom'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: listing.bathrooms > 1 ? \"\".concat(listing.bathrooms, \" Bathrooms\") : '1 Bathroom'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: listing.parking && 'Parking Spot'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: listing.furnished && 'Furnished'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"listingLocationTitle\",\n        children: \"Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"leafletContainer\",\n        children: /*#__PURE__*/_jsxDEV(MapContainer, {\n          style: {\n            height: '100%',\n            width: '100%'\n          },\n          center: [listing.geolocation.lat, listing.geolocation.lng],\n          zoom: 13,\n          scrollWheelZoom: false,\n          children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n            attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n            url: \"https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Marker, {\n            position: [listing.geolocation.lat, listing.geolocation.lng],\n            children: /*#__PURE__*/_jsxDEV(Popup, {\n              children: listing.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), ((_auth$currentUser = auth.currentUser) === null || _auth$currentUser === void 0 ? void 0 : _auth$currentUser.uid) !== listing.userRef && /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/contact/\".concat(listing.userRef, \"?listingName=\").concat(listing.name),\n        className: \"primaryButton\",\n        children: \"Contact Landlord\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Listing, \"uUYCzEOE0k4rnhTE7v2EZGpxz88=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = Listing;\nexport default Listing; // https://stackoverflow.com/questions/67552020/how-to-fix-error-failed-to-compile-node-modules-react-leaflet-core-esm-pat\n\nvar _c;\n\n$RefreshReg$(_c, \"Listing\");","map":{"version":3,"sources":["C:/Users/Asus/Desktop/house-marketing-main/src/pages/Listing.jsx"],"names":["useState","useEffect","Link","useNavigate","useParams","Helmet","MapContainer","Marker","Popup","TileLayer","SwiperCore","Navigation","Pagination","Scrollbar","A11y","Swiper","SwiperSlide","getDoc","doc","getAuth","db","Spinner","use","Listing","listing","setListing","loading","setLoading","shareLinkCopied","setShareLinkCopied","navigate","params","auth","fetchListing","docRef","listingId","docSnap","exists","data","name","clickable","imgUrls","map","url","index","background","backgroundSize","navigator","clipboard","writeText","window","location","href","setTimeout","shareIcon","offer","discountedPrice","toString","replace","regularPrice","type","bedrooms","bathrooms","parking","furnished","height","width","geolocation","lat","lng","currentUser","uid","userRef"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport { Link, useNavigate, useParams } from 'react-router-dom'\nimport { Helmet } from 'react-helmet'\nimport { MapContainer, Marker, Popup, TileLayer } from 'react-leaflet'\nimport SwiperCore, { Navigation, Pagination, Scrollbar, A11y } from 'swiper'\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport 'swiper/swiper-bundle.css'\nimport { getDoc, doc } from 'firebase/firestore'\nimport { getAuth } from 'firebase/auth'\nimport { db } from '../firebase.config'\nimport Spinner from '../components/Spinner'\nimport shareIcon from '../assets/svg/shareIcon.svg'\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y])\n\nfunction Listing() {\n  const [listing, setListing] = useState(null)\n  const [loading, setLoading] = useState(true)\n  const [shareLinkCopied, setShareLinkCopied] = useState(false)\n\n  const navigate = useNavigate()\n  const params = useParams()\n  const auth = getAuth()\n\n  useEffect(() => {\n    const fetchListing = async () => {\n      const docRef = doc(db, 'listings', params.listingId)\n      const docSnap = await getDoc(docRef)\n\n      if (docSnap.exists()) {\n        setListing(docSnap.data())\n        setLoading(false)\n      }\n    }\n\n    fetchListing()\n  }, [navigate, params.listingId])\n\n  if (loading) {\n    return <Spinner />\n  }\n\n  return (\n    <main>\n      <Helmet>\n        <title>{listing.name}</title>\n      </Helmet>\n      <Swiper slidesPerView={1} pagination={{ clickable: true }}>\n        {listing.imgUrls.map((url, index) => (\n          <SwiperSlide key={index}>\n            <div\n              style={{\n                background: `url(${listing.imgUrls[index]}) center no-repeat`,\n                backgroundSize: 'cover',\n              }}\n              className='swiperSlideDiv'\n            ></div>\n          </SwiperSlide>\n        ))}\n      </Swiper>\n\n      <div\n        className='shareIconDiv'\n        onClick={() => {\n          navigator.clipboard.writeText(window.location.href)\n          setShareLinkCopied(true)\n          setTimeout(() => {\n            setShareLinkCopied(false)\n          }, 2000)\n        }}\n      >\n        <img src={shareIcon} alt='' />\n      </div>\n\n      {shareLinkCopied && <p className='linkCopied'>Link Copied!</p>}\n\n      <div className='listingDetails'>\n        <p className='listingName'>\n          {listing.name} - $\n          {listing.offer\n            ? listing.discountedPrice\n                .toString()\n                .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n            : listing.regularPrice\n                .toString()\n                .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n        </p>\n        <p className='listingLocation'>{listing.location}</p>\n        <p className='listingType'>\n          For {listing.type === 'rent' ? 'Rent' : 'Sale'}\n        </p>\n        {listing.offer && (\n          <p className='discountPrice'>\n            ${listing.regularPrice - listing.discountedPrice} discount\n          </p>\n        )}\n\n        <ul className='listingDetailsList'>\n          <li>\n            {listing.bedrooms > 1\n              ? `${listing.bedrooms} Bedrooms`\n              : '1 Bedroom'}\n          </li>\n          <li>\n            {listing.bathrooms > 1\n              ? `${listing.bathrooms} Bathrooms`\n              : '1 Bathroom'}\n          </li>\n          <li>{listing.parking && 'Parking Spot'}</li>\n          <li>{listing.furnished && 'Furnished'}</li>\n        </ul>\n\n        <p className='listingLocationTitle'>Location</p>\n\n        <div className='leafletContainer'>\n          <MapContainer\n            style={{ height: '100%', width: '100%' }}\n            center={[listing.geolocation.lat, listing.geolocation.lng]}\n            zoom={13}\n            scrollWheelZoom={false}\n          >\n            <TileLayer\n              attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url='https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png'\n            />\n\n            <Marker\n              position={[listing.geolocation.lat, listing.geolocation.lng]}\n            >\n              <Popup>{listing.location}</Popup>\n            </Marker>\n          </MapContainer>\n        </div>\n\n        {auth.currentUser?.uid !== listing.userRef && (\n          <Link\n            to={`/contact/${listing.userRef}?listingName=${listing.name}`}\n            className='primaryButton'\n          >\n            Contact Landlord\n          </Link>\n        )}\n      </div>\n    </main>\n  )\n}\n\nexport default Listing\n\n// https://stackoverflow.com/questions/67552020/how-to-fix-error-failed-to-compile-node-modules-react-leaflet-core-esm-pat\n"]},"metadata":{},"sourceType":"module"}