{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Asus/Desktop/house-marketing-main/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Asus/Desktop/house-marketing-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/Users/Asus/Desktop/house-marketing-main/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:/Users/Asus/Desktop/house-marketing-main/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/Asus/Desktop/house-marketing-main/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\house-marketing-main\\\\src\\\\pages\\\\SignUp.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { getAuth, createUserWithEmailAndPassword, updateProfile } from 'firebase/auth';\nimport { setDoc, doc, serverTimestamp } from 'firebase/firestore';\nimport { db } from '../firebase.config';\nimport OAuth from '../components/OAuth';\nimport { ReactComponent as ArrowRightIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/svg/keyboardArrowRightIcon.svg\";\nimport visibilityIcon from \"../assets/svg/visibilityIcon.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction SignUp() {\n  _s();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showPassword = _useState2[0],\n      setShowPassword = _useState2[1];\n\n  var _useState3 = useState({\n    name: '',\n    email: '',\n    password: ''\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formData = _useState4[0],\n      setFormData = _useState4[1];\n\n  var name = formData.name,\n      email = formData.email,\n      password = formData.password;\n  var navigate = useNavigate();\n\n  var onChange = function onChange(e) {\n    setFormData(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, e.target.id, e.target.value));\n    });\n  };\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var auth, userCredential, user, formDataCopy;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.prev = 1;\n              auth = getAuth();\n              _context.next = 5;\n              return createUserWithEmailAndPassword(auth, email, password);\n\n            case 5:\n              userCredential = _context.sent;\n              user = userCredential.user;\n              updateProfile(auth.currentUser, {\n                displayName: name\n              });\n              formDataCopy = _objectSpread({}, formData);\n              delete formDataCopy.password;\n              formDataCopy.timestamp = serverTimestamp();\n              _context.next = 13;\n              return setDoc(doc(db, 'users', user.uid), formDataCopy);\n\n            case 13:\n              navigate('/');\n              _context.next = 19;\n              break;\n\n            case 16:\n              _context.prev = 16;\n              _context.t0 = _context[\"catch\"](1);\n              toast.error('Something went wrong with registration');\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 16]]);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pageContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"pageHeader\",\n          children: \"Welcome Back!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"nameInput\",\n          placeholder: \"Name\",\n          id: \"name\",\n          value: name,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"emailInput\",\n          placeholder: \"Email\",\n          id: \"email\",\n          value: email,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"passwordInputDiv\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: showPassword ? 'text' : 'password',\n            className: \"passwordInput\",\n            placeholder: \"Password\",\n            id: \"password\",\n            value: password,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: visibilityIcon,\n            alt: \"show password\",\n            className: \"showPassword\",\n            onClick: function onClick() {\n              return setShowPassword(function (prevState) {\n                return !prevState;\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/forgot-password\",\n          className: \"forgotPasswordLink\",\n          children: \"Forgot Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"signUpBar\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"signUpText\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"signUpButton\",\n            children: /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n              fill: \"#ffffff\",\n              width: \"34px\",\n              height: \"34px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(OAuth, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/sign-in\",\n        className: \"registerLink\",\n        children: \"Sign In Instead\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(SignUp, \"jdmIuWwlp+FIo1tiBkXrD4IVCAA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["C:/Users/Asus/Desktop/house-marketing-main/src/pages/SignUp.jsx"],"names":["useState","Link","useNavigate","toast","getAuth","createUserWithEmailAndPassword","updateProfile","setDoc","doc","serverTimestamp","db","OAuth","SignUp","showPassword","setShowPassword","name","email","password","formData","setFormData","navigate","onChange","e","prevState","target","id","value","onSubmit","preventDefault","auth","userCredential","user","currentUser","displayName","formDataCopy","timestamp","uid","error","visibilityIcon"],"mappings":"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","sourcesContent":["import { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { toast } from 'react-toastify'\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  updateProfile,\n} from 'firebase/auth'\nimport { setDoc, doc, serverTimestamp } from 'firebase/firestore'\nimport { db } from '../firebase.config'\nimport OAuth from '../components/OAuth'\nimport { ReactComponent as ArrowRightIcon } from '../assets/svg/keyboardArrowRightIcon.svg'\nimport visibilityIcon from '../assets/svg/visibilityIcon.svg'\n\nfunction SignUp() {\n  const [showPassword, setShowPassword] = useState(false)\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n  })\n  const { name, email, password } = formData\n\n  const navigate = useNavigate()\n\n  const onChange = (e) => {\n    setFormData((prevState) => ({\n      ...prevState,\n      [e.target.id]: e.target.value,\n    }))\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault()\n\n    try {\n      const auth = getAuth()\n\n      const userCredential = await createUserWithEmailAndPassword(\n        auth,\n        email,\n        password\n      )\n\n      const user = userCredential.user\n\n      updateProfile(auth.currentUser, {\n        displayName: name,\n      })\n\n      const formDataCopy = { ...formData }\n      delete formDataCopy.password\n      formDataCopy.timestamp = serverTimestamp()\n\n      await setDoc(doc(db, 'users', user.uid), formDataCopy)\n\n      navigate('/')\n    } catch (error) {\n      toast.error('Something went wrong with registration')\n    }\n  }\n\n  return (\n    <>\n      <div className='pageContainer'>\n        <header>\n          <p className='pageHeader'>Welcome Back!</p>\n        </header>\n\n        <form onSubmit={onSubmit}>\n          <input\n            type='text'\n            className='nameInput'\n            placeholder='Name'\n            id='name'\n            value={name}\n            onChange={onChange}\n          />\n          <input\n            type='email'\n            className='emailInput'\n            placeholder='Email'\n            id='email'\n            value={email}\n            onChange={onChange}\n          />\n\n          <div className='passwordInputDiv'>\n            <input\n              type={showPassword ? 'text' : 'password'}\n              className='passwordInput'\n              placeholder='Password'\n              id='password'\n              value={password}\n              onChange={onChange}\n            />\n\n            <img\n              src={visibilityIcon}\n              alt='show password'\n              className='showPassword'\n              onClick={() => setShowPassword((prevState) => !prevState)}\n            />\n          </div>\n\n          <Link to='/forgot-password' className='forgotPasswordLink'>\n            Forgot Password\n          </Link>\n\n          <div className='signUpBar'>\n            <p className='signUpText'>Sign Up</p>\n            <button className='signUpButton'>\n              <ArrowRightIcon fill='#ffffff' width='34px' height='34px' />\n            </button>\n          </div>\n        </form>\n\n        <OAuth />\n\n        <Link to='/sign-in' className='registerLink'>\n          Sign In Instead\n        </Link>\n      </div>\n    </>\n  )\n}\n\nexport default SignUp\n"]},"metadata":{},"sourceType":"module"}