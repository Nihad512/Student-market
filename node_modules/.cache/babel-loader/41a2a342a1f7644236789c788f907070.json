{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Asus/Desktop/house-marketing-main/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Asus/Desktop/house-marketing-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/Asus/Desktop/house-marketing-main/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\house-marketing-main\\\\src\\\\components\\\\Slider.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { collection, getDocs, query, orderBy, limit } from 'firebase/firestore';\nimport { db } from '../firebase.config';\nimport SwiperCore, { Navigation, Pagination, Scrollbar, A11y } from 'swiper';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/swiper-bundle.css';\nimport Spinner from './Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y]);\n\nfunction Slider() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      listings = _useState4[0],\n      setListings = _useState4[1];\n\n  var navigate = useNavigate();\n  useEffect(function () {\n    var fetchListings = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var listingsRef, q, querySnap, listings;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                listingsRef = collection(db, 'listings');\n                q = query(listingsRef, orderBy('timestamp', 'desc'), limit(5));\n                _context.next = 4;\n                return getDocs(q);\n\n              case 4:\n                querySnap = _context.sent;\n                listings = [];\n                querySnap.forEach(function (doc) {\n                  return listings.push({\n                    id: doc.id,\n                    data: doc.data()\n                  });\n                });\n                setListings(listings);\n                setLoading(false);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function fetchListings() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchListings();\n  }, []);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (listings.length === 0) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n\n  return listings && /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"exploreHeading\",\n      children: \"Recommended\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Swiper, {\n      slidesPerView: 1,\n      pagination: {\n        clickable: true\n      },\n      children: listings.map(function (_ref2) {\n        var _data$discountedPrice;\n\n        var data = _ref2.data,\n            id = _ref2.id;\n        return /*#__PURE__*/_jsxDEV(SwiperSlide, {\n          onClick: function onClick() {\n            return navigate(\"/category/\".concat(data.type, \"/\").concat(id));\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: \"url(\".concat(data.imgUrls[0], \") center no-repeat\"),\n              backgroundSize: 'cover'\n            },\n            className: \"swiperSlideDiv\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"swiperSlideText\",\n              children: data.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"swiperSlidePrice\",\n              children: [\"$\", (_data$discountedPrice = data.discountedPrice) !== null && _data$discountedPrice !== void 0 ? _data$discountedPrice : data.regularPrice, ' ', data.type === 'rent' && '/ month']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, _this)\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Slider, \"SUDo+Kk/BfeE+rGzYIfwpXa7SsA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Slider;\nexport default Slider;\n\nvar _c;\n\n$RefreshReg$(_c, \"Slider\");","map":{"version":3,"sources":["C:/Users/Asus/Desktop/house-marketing-main/src/components/Slider.jsx"],"names":["useState","useEffect","useNavigate","collection","getDocs","query","orderBy","limit","db","SwiperCore","Navigation","Pagination","Scrollbar","A11y","Swiper","SwiperSlide","Spinner","use","Slider","loading","setLoading","listings","setListings","navigate","fetchListings","listingsRef","q","querySnap","forEach","doc","push","id","data","length","clickable","map","type","background","imgUrls","backgroundSize","name","discountedPrice","regularPrice"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { collection, getDocs, query, orderBy, limit } from 'firebase/firestore'\nimport { db } from '../firebase.config'\nimport SwiperCore, { Navigation, Pagination, Scrollbar, A11y } from 'swiper'\nimport { Swiper, SwiperSlide } from 'swiper/react'\nimport 'swiper/swiper-bundle.css'\nimport Spinner from './Spinner'\nSwiperCore.use([Navigation, Pagination, Scrollbar, A11y])\n\nfunction Slider() {\n  const [loading, setLoading] = useState(true)\n  const [listings, setListings] = useState(null)\n\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    const fetchListings = async () => {\n      const listingsRef = collection(db, 'listings')\n      const q = query(listingsRef, orderBy('timestamp', 'desc'), limit(5))\n      const querySnap = await getDocs(q)\n\n      let listings = []\n\n      querySnap.forEach((doc) => {\n        return listings.push({\n          id: doc.id,\n          data: doc.data(),\n        })\n      })\n\n      setListings(listings)\n      setLoading(false)\n    }\n\n    fetchListings()\n  }, [])\n\n  if (loading) {\n    return <Spinner />\n  }\n\n  if (listings.length === 0) {\n    return <></>\n  }\n\n  return (\n    listings && (\n      <>\n        <p className='exploreHeading'>Recommended</p>\n\n        <Swiper slidesPerView={1} pagination={{ clickable: true }}>\n          {listings.map(({ data, id }) => (\n            <SwiperSlide\n              key={id}\n              onClick={() => navigate(`/category/${data.type}/${id}`)}\n            >\n              <div\n                style={{\n                  background: `url(${data.imgUrls[0]}) center no-repeat`,\n                  backgroundSize: 'cover',\n                }}\n                className='swiperSlideDiv'\n              >\n                <p className='swiperSlideText'>{data.name}</p>\n                <p className='swiperSlidePrice'>\n                  ${data.discountedPrice ?? data.regularPrice}{' '}\n                  {data.type === 'rent' && '/ month'}\n                </p>\n              </div>\n            </SwiperSlide>\n          ))}\n        </Swiper>\n      </>\n    )\n  )\n}\n\nexport default Slider\n"]},"metadata":{},"sourceType":"module"}